<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Student View</title>
    <link rel="stylesheet" href="../css/student.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script>
		const ROOM_ID = "<%= roomId %>"
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.js"
            integrity="sha512-2RDFHqfLZW8IhPRvQYmK9bTLfj/hddxGXQAred2wNZGkrKQkLGj8RCkXfRJPHlDerdHHIzTFaahq4s/P4V6Qig=="
            crossorigin="anonymous"></script>
    <script defer src="https://unpkg.com/peerjs@1.2.0/dist/peerjs.min.js"></script>
    <!--    <script src="/socket.io/socket.io.js" defer></script>-->
    <script src="../js/student.js" defer></script>
</head>

<body>
    <div>
        <div id="teacher-video" class="teacherPanel"></div>

        <div id="video-grid"></div>

        <div class="toolbar">
            <button class="action">
                <i class="fa fa-bullhorn" aria-hidden="true"></i>
                shout
            </button>
            <button class="action">
                <i class="fa fa-microphone-slash" aria-hidden="true"></i>
                mute
            </button>
            <button class="action">
                <i class="fa fa-comments" aria-hidden="true"></i>
                chat
            </button>
            <button id="switch-button" class="action">
                <i class="fa fa-exchange" aria-hidden="true"></i>
                switch
            </button>
            <button class="leave">
                <i class="fa fa-sign-out" aria-hidden="true"></i>
                leave
            </button>
        </div>
    </div>
</body>
<script>
    let switchButton = document.getElementById('switch-button');
    switchButton.addEventListener('click', function(e){
    	e.preventDefault();
		fetch('/new-room-student-1')
			.then(response => {
				if (response.redirected) {
					window.location.href = response.url;
				}
			})
			.catch(function(err) {
				console.info(err + " url: " + url);
			});
    });
</script>

</html>